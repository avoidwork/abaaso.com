/**
 * abaaso.com
 *
 * @author Jason Mulligan <jason.mulligan@avoidwork.com>
 * @copyright 2013 Jason Mulligan
 * @license BSD-3 <https://github.com/avoidwork/abaaso.com/blob/master/LICENSE>
 * @link https://github.com/avoidwork/abaaso.com
 * @module abaaso.com
 * @version 4.0.8
 */
(function(e){"use strict";var t=/^(api|main|tutorials)$/,n=/.*\/|\.html/g,r=e("html")[0],i=[],s={},o="main",u,a,f,l,c,h,p;hljs.tabReplace="    ",a=function(t){var n=e("#"+t+" section.markdown")[0];n!==undefined&&(s.hasOwnProperty(t)?n.html(s[t]):s[t]=n.html())},l=function(t){e.stop(t),e.hash("wiki/"+e.target(t).data("filename"))},c=function(){var t=e.hash(),n=t.match(/#(.*)/),r=t.replace(/^\/wiki\/|\#.*/g,""),i=e("section.active a[data-filename='"+r+"']").length>0,s;!t.isEmpty()&&i&&(s=e("section.active section.markdown")[0],s.clear().addClass("loading").get(t.replace(/\#.*/,""),function(t){var r;s.removeClass("loading").html(f.makeHtml(t)),s.find("pre code").each(function(e){hljs.highlightBlock(e)}),s.find("a").each(function(e){e.attr("href","#!/wiki/"+e.href.replace(/.*\//,"").replace("#",".md#"))}),n instanceof Array&&!n[1].isEmpty()&&(r=e("#"+n[1]),r!==undefined&&window.scrollTo(0,r.position().top-10))},function(t){s.removeClass("loading").html("<h1>"+e.label.error.serverError+"</h1>")}))},h=function(n){var r;t.test(n)||(location.href="/"),i.removeClass("active").addClass("hidden"),r=e("#"+o+" section.markdown")[0],r!==undefined&&r.html(s[o]),e("#"+n).addClass("active").removeClass("hidden")},e.on("render",function(){var t=e(".g-plusone")[0];t!==undefined&&t.parentNode.find("> div")[0].css("left","auto")}),e.on("ready",function(){f=new Showdown.converter,i=e("article > section");var t=e("a[data-section='download']")[0];r.hasClass("history")&&(e.on(window,"popstate",function(t){var r=e.parse(location.href),i=r.pathname.replace(n,"");i.isEmpty()&&(i="main"),e.stop(t),h(t.state!==null?t.state.section:i),o=i,a(o),r.hash.isEmpty()||c()},"history"),e("a.section").on("click",function(t){var n;e.stop(t),n=this.data("section"),history.pushState({section:n},this.textContent,this.href),h(n)})),r.hasClass("hashchange")&&((e.client.opera||!r.hasClass("history"))&&e.on("hash",function(e){e.isEmpty()||c()},"wiki"),e("section.list a").each(function(e){e.attr("href","#!/wiki/"+e.data("filename"))}),e.parse(location.href).hash.isEmpty()||c()),e("input[name='package']").on("click",function(){t.attr("href",this.val()).attr("title","Download "+this.data("type")+" version")}),e(".version")[0].html(e.version)})})(abaaso);