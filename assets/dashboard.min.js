/**
 * abaaso.com
 *
 * @author Jason Mulligan <jason.mulligan@avoidwork.com>
 * @copyright 2012 Jason Mulligan
 * @license BSD-3 <https://github.com/avoidwork/abaaso.com/blob/master/LICENSE>
 * @link https://github.com/avoidwork/abaaso.com
 * @module abaaso.com
 * @version 4.0.1
 */
(function(e){"use strict";var t=/^(api|main|tutorials)$/,n=typeof history.pushState=="function",r=[],i,s,o,u,a;i=["Array.prototype","Element.prototype","Function.prototype","Number.prototype","String.prototype","$","array","client","cookie","data","datalist","element","events","filter","json","label","loading","message","mouse","number","observer","promise","route","string","timer","validate","xml"],a=[],o=function(e,t){var n="wiki/"+e.target.data("filename");$.stop(e),n.get(function(e){t.removeClass("loading").html(s.makeHtml(e))},function(e){t.removeClass("loading").html($.label.error.serverError)})},u=function(e){t.test(e)||(location.href="/"),r.addClass("hidden"),$("#"+e).removeClass("hidden")},n&&$.on(window,"popstate",function(e){var t=location.href.replace(/.*\/|\.html/g,"");t.isEmpty()&&(t="main"),$.stop(e),u(e.state!==null?e.state.section:t)},"history"),$.on("render",function(){var e=$("#api"),t=e.find("ul")[0],n=e.find("section.markdown")[0];i.each(function(e){var r=e.replace(/\.prototype/,""),i=t.create("li").create("a",{"class":/prototype/.test(e)?"prototype":"abaaso",innerHTML:r,"data-filename":e+".md","data-type":"api",title:r});i.on("click",function(e){n.clear().addClass("loading"),o(e,n)},"menu")}),s=new Showdown.converter,r=$("article > section"),$("body").removeClass("opacity")}),$.on("ready",function(){var e=/A/,t=$("a[data-section='download']")[0];$("a.section").on("click",function(e){var t;n&&($.stop(e),t=this.data("section"),history.pushState({section:t},this.textContent,this.href),u(t))}),$("input[name='package']").on("click",function(){t.attr("href",this.val()).attr("title","Download "+this.data("type")+" version")}),"http://cdn.abaaso.com/abaaso.min.js".headers(function(e){var t=$("span[data-type='production']")[0],n=e["Content-Lenght"]||0;n>0&&t.html(t.html()+" ("+filesize(n,!0)+")")}),"http://cdn.abaaso.com/abaaso.js".headers(function(e){var t=$("span[data-type='debugging']")[0],n=e["Content-Lenght"]||0;n>0&&t.html(t.html()+" ("+filesize(n,!0)+")")}),$("#version").html($.version)})})(this);